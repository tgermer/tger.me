---
import "@fontsource/ibm-plex-sans/300.css";
import "@fontsource/ibm-plex-sans/400.css";
import "@fontsource/ibm-plex-sans/500.css";
import "@fontsource/ibm-plex-sans/600.css";
import "@fontsource/ibm-plex-sans/700.css";
import "../styles/global.css";
import Nav from "../components/Nav.astro";
import Footer from "../components/Footer.astro";

interface Props {
    title?: string;
    description?: string;
    ogImage?: string;
    ogType?: string;
    lang?: string;
}

const { title = "Tristan Germer", description = "Professional information about Tristan Germer, M.Sc.", ogImage = "/assets/me-removebg.png", ogType = "website", lang = "de" } = Astro.props;
const canonicalUrl = new URL(Astro.url.pathname, Astro.site);

const fullTitle = title === "Tristan Germer" ? title : `${title} | Tristan Germer`;
---

<!doctype html>
<html lang={lang}>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content={description} />
        <meta name="author" content="Tristan Germer" />

        <!-- Block AI training -->
        <meta name="robots" content="noai, noimageai" />

        <!-- Canonical URL -->
        <link rel="canonical" href={canonicalUrl.toString()} />

        <!-- Open Graph -->
        <meta property="og:title" content={fullTitle} />
        <meta property="og:description" content={description} />
        <meta property="og:image" content={ogImage} />
        <meta property="og:type" content={ogType} />
        <meta property="og:url" content={canonicalUrl.toString()} />

        <!-- Favicon -->
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

        <!-- Plausible Analytics (production only) -->
        {import.meta.env.PROD && <script defer data-domain="tger.me" src="https://analytics.thebunnyhill.de/js/script.js" />}

        <title>{fullTitle}</title>
    </head>
    <body class="bg-white text-gray-900 font-sans antialiased dark:bg-gray-950 dark:text-gray-100">
        <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-50 focus:px-4 focus:py-2 focus:bg-white focus:text-blue-700 focus:rounded-lg focus:shadow-lg">Zum Inhalt springen</a>
        <Nav />
        <main id="main-content">
            <slot />
        </main>
        <Footer />
    </body>
</html>
