---
import BaseLayout from "../layouts/BaseLayout.astro";
import PortfolioCard from "../components/PortfolioCard.astro";
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import portrait from "../assets/apply/2025-09-02-portrait.jpg";

const allProjects = await getCollection("portfolio");
const featured = allProjects.filter((p) => p.data.featured).sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<BaseLayout title="Tristan Germer" description="Technik-Enthusiast, Innovationsgeist und designaffin. Ich vereine Kreativität, modernes Design und Technologie.">
    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center overflow-hidden">
        <!-- Gradient Background -->
        <div class="absolute inset-0 gradient-brand opacity-95"></div>
        <div class="absolute inset-0 bg-black/10"></div>

        <!-- Decorative circles -->
        <div class="absolute -top-32 -right-32 w-96 h-96 rounded-full bg-white/5 blur-3xl"></div>
        <div class="absolute -bottom-32 -left-32 w-96 h-96 rounded-full bg-white/5 blur-3xl"></div>

        <div class="relative z-10 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-24">
            <div class="flex flex-col-reverse lg:flex-row items-center gap-12">
                <!-- Text -->
                <div class="flex-1 text-center lg:text-left text-white">
                    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight mb-6">
                        Hallo!<br />
                        Mein Name ist&nbsp;<span class="text-blue-100">Tristan.</span>
                    </h1>
                    <p class="text-lg sm:text-xl text-blue-50 max-w-xl mx-auto lg:mx-0 mb-8 leading-relaxed">Ich bin ein Technik-Enthusiast, SmartHome-Fan, Innovationsgeist und designaffin. Ich vereine Kreativität, modernes Design und Technologie, um einzigartige Lösungen zu schaffen.</p>
                    <div class="flex flex-wrap gap-4 justify-center lg:justify-start">
                        <a href="/portfolio" class="inline-flex items-center gap-2 px-6 py-3 bg-white text-blue-700 font-semibold rounded-xl hover:bg-blue-50 transition-colors shadow-lg">
                            Meine Projekte ansehen
                            <Icon name="tabler:arrow-right" class="h-5 w-5" aria-hidden="true" />
                        </a>
                        <a href="/de/about" data-lang-link class="inline-flex items-center gap-2 px-6 py-3 bg-white/20 backdrop-blur-sm text-white font-semibold rounded-xl hover:bg-white/30 transition-colors border border-white/30">
                            Mehr über mich
                            <Icon name="tabler:arrow-right" class="h-5 w-5" aria-hidden="true" />
                        </a>
                    </div>
                </div>

                <!-- Profile image -->
                <div class="flex-shrink-0 flex justify-center">
                    <div class="relative">
                        <div class="absolute inset-0 bg-white/20 blur-2xl rounded-full scale-110"></div>
                        <Image src={portrait} alt="Tristan Germer" class="relative h-64 w-64 lg:h-80 lg:w-80 object-cover blob-shape shadow-2xl hover:scale-105 transition-transform duration-300" widths={[256, 320, 640]} sizes="(min-width: 1024px) 320px, 256px" />
                    </div>
                </div>
            </div>
        </div>

        <!-- Scroll indicator -->
        <div class="absolute bottom-8 left-1/2 -translate-x-1/2 text-white/70 animate-bounce">
            <Icon name="tabler:chevron-down" class="h-6 w-6" aria-hidden="true" />
        </div>
    </section>

    <!-- Featured Projects -->
    {
        featured.length > 0 && (
            <section class="py-20 bg-gray-50 dark:bg-gray-950">
                <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex items-center justify-between mb-10">
                        <div>
                            <h2 class="text-3xl font-bold text-gray-900 dark:text-white">Featured Projekte</h2>
                            <p class="mt-2 text-gray-600 dark:text-gray-400">Ein Auszug meiner Arbeit</p>
                        </div>
                        <a href="/portfolio" class="text-blue-600 dark:text-blue-400 text-sm font-medium hover:underline">
                            Alle ansehen →
                        </a>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        {featured.map((project) => (
                            <PortfolioCard slug={project.slug} title={project.data.title} description={project.data.description} type={project.data.type} technologies={project.data.technologies} image={project.data.image} imageBg={project.data.imageBg} featured={project.data.featured} />
                        ))}
                    </div>
                </div>
            </section>
        )
    }

    <!-- Quick facts -->
    <section class="py-20">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div class="p-6 rounded-2xl bg-blue-50 dark:bg-blue-950/30">
                    <Icon name="tabler:clock" class="h-8 w-8 text-blue-600 dark:text-blue-400 mx-auto mb-2" aria-hidden="true" />
                    <div class="text-4xl font-extrabold text-blue-600 dark:text-blue-400 mb-2">10+</div>
                    <div class="text-sm font-medium text-gray-700 dark:text-gray-300">Jahre Berufserfahrung</div>
                </div>
                <div class="p-6 rounded-2xl bg-blue-50 dark:bg-blue-950/30">
                    <Icon name="tabler:school" class="h-8 w-8 text-blue-600 dark:text-blue-400 mx-auto mb-2" aria-hidden="true" />
                    <div class="text-4xl font-extrabold text-blue-600 dark:text-blue-400 mb-2">MSc</div>
                    <div class="text-sm font-medium text-gray-700 dark:text-gray-300">Technische Kommunikation</div>
                </div>
                <div class="p-6 rounded-2xl bg-blue-50 dark:bg-blue-950/30">
                    <Icon name="tabler:school" class="h-8 w-8 text-blue-600 dark:text-blue-400 mx-auto mb-2" aria-hidden="true" />
                    <div class="text-4xl font-extrabold text-blue-600 dark:text-blue-400 mb-2">BA</div>
                    <div class="text-sm font-medium text-gray-700 dark:text-gray-300">Betriebswirtschaftslehre</div>
                </div>
            </div>
        </div>
    </section>
</BaseLayout>
